# Google代码风格

# 头文件

- self-contained，头文件.h要能自给自足，用来插入文本的文件以.inc结尾

  > 还没遇到：
  >
  > 不过有一个例外，即一个文件并不是 self-contained 的，而是作为文本插入到代码某处。或者，文件内容实际上是其它头文件的特定平台（platform-specific）扩展部分。这些文件就要用 `.inc` 文件扩展名



- #define保护

  ```
  #ifndef FOO_BAR_BAZ_H_
  #define FOO_BAR_BAZ_H_
  ...
  #endif // FOO_BAR_BAZ_H_
  ```

- 尽可能地避免使用前置声明。使用 `#include` 包含需要的头文件即可。

- 只有当函数只有 10 行甚至更少时才将其定义为内联函数

- 使用标准的头文件包含顺序可增强可读性, 避免隐藏依赖: 相关头文件, C 库, C++ 库, 其他库的 .h, 本项目内的 .h.

  #include中插入空行来分割相关头文件





# 命名约定

- 函数命名, 变量命名, 文件命名要有描述性; 少用缩写.

  > 大家都熟知的i T除外

- 文件名：全部小写，_下划线连接

  > 定义类时文件名一般成对出现

- 类型命名：类型名称的每个单词首字母均大写, 不包含下划线: `MyExcitingClass`, `MyExcitingEnum`——类，结构体，类型定义（typedef），枚举，类型模板参数

- 变量命名：变量 (包括函数参数) 和数据成员名**一律小写**, 单词之间用下划线连接. 类的成员变量以下划线结尾, 但结构体的就不用,

  - 普通变量：全小写，下划线_连接

  - 类数据成员：全小写，下划线_连接，最后＋\_下划线，

    ```
    class TableInfo {
      ...
     private:
      string table_name_;  // 好 - 后加下划线.
      string tablename_;   // 好.
      static Pool<TableInfo>* pool_;  // 好.
    };
    ```

  - 结构体变量：和普通变量一样

- 常量：声明为 `constexpr` 或 `const` 的变量, 或在程序运行期间其值始终保持不变的, 命名时以 “k” 开头, 大小写混合

  ```
  const int kDaysInAWeek = 7;
  ```

- 函数：常规函数使用大小写混合, 取值和设值函数则要求与变量名匹配

  驼峰命名法：每个单词首字符大写

  ```
  AddTableEntry()
  ```

  > (同样的命名规则同时适用于类作用域与命名空间作用域的常量, 因为它们是作为 API 的一部分暴露对外的, 因此应当让它们看起来像是一个函数

- 命名空间：命名空间以小写字母命名. 最高级命名空间的名字取决于项目名称. 要注意避免嵌套命名空间的名字之间和常见的顶级命名空间的名字之间发生冲突.

  > 还没遇到

- 枚举：枚举的命名应当和 [常量](https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/naming/#constant-names) 或 [宏](https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/naming/#macro-names) 一致: `kEnumName` 或是 `ENUM_NAME`

- 宏：全大写`MY_MACRO_THAT_SCARES_SMALL_CHILDREN`

- 类：

  - 类名大写，函数public写前面
  - 变量后面都加_
  - 类函数第一个word小写，后面用驼峰




# C，C++混合使用

.hpp中必须把函数封装为C的形式才能正常通过编译



















