# 常用计算量衡量指标总结

在深度学习中，评估模型的复杂度与性能通常使用以下三个指标：**FLOPs（浮点运算次数）**、**参数量（Parameters）**、**FPS（每秒帧数）**。

它们分别反映了模型的计算成本、存储需求与推理速度。

---

# FLOPs（Floating Point Operations）

**定义：**FLOPs 表示模型在一次前向传播中所需的浮点运算次数，通常统计乘法与加法操作。

**用途：**

- 衡量模型计算复杂度；
- 与硬件无关，便于不同模型间的对比；
- 用于估计推理时间、能耗。

**常见计算方式：**

| 层类型         | FLOPs计算公式                     |
| -------------- | --------------------------------- |
| 全连接层       | 2 × 输入维度 × 输出维度           |
| 卷积层         | 2 × Cin × Cout × K² × Hout × Wout |
| 自注意力层     | 8Ld² + 2L²d                       |
| ReLU / Pooling | 可忽略或简单相加                  |

**单位：**

- K（千）、M（百万）、G（十亿）FLOPs

  例如：ResNet-50 ≈ 4 GFLOPs

---

# 参数量（Parameters）

**定义：**参数量表示模型中可学习参数（权重与偏置）的总数量。

**用途：**

- 衡量模型的存储需求；
- 影响显存占用与模型大小；
- 与模型容量（学习能力）相关，但不完全等同于性能。

**计算方式：**
对每个层统计其权重与偏置数量之和：
$$
\text{Params} = \sum_i (\text{weights}_i + \text{biases}_i)
$$
**单位：**

- K（千）、M（百万）Parameters

  例如：BERT-base ≈ 110M Params

**备注：**
参数量大 ≠ FLOPs大

（如：Transformer 的注意力计算 FLOPs 高但参数相对少）

---

# FPS（Frames Per Second）

**定义：**FPS 表示模型在推理阶段每秒可处理的样本数量（通常为图像帧）。

**用途：**

- 衡量模型在特定硬件与实现下的实际运行速度；
- 反映部署性能与实时性；
- 与硬件、优化、批大小强相关。

**影响因素：**

- FLOPs（计算量）
- 模型结构（访存模式）
- 硬件（GPU/CPU/TPU）
- 软件优化（TensorRT、ONNX、量化等）

**计算方式：**
$$
\text{FPS} = \frac{\text{处理样本数}}{\text{耗时秒数}}
$$
**示例：**

| 模型        | FLOPs | 参数量 | FPS（在RTX 3090） |
| ----------- | ----- | ------ | ----------------- |
| ResNet-50   | 4.1G  | 25.6M  | ~300              |
| MobileNetV3 | 0.22G | 5.4M   | ~1200             |
| ViT-Base    | 17.6G | 86M    | ~100              |

---

# 总结对比

| 指标       | 含义         | 衡量内容       | 单位      | 是否与硬件相关 |
| ---------- | ------------ | -------------- | --------- | -------------- |
| **FLOPs**  | 浮点运算次数 | 理论计算复杂度 | K / M / G | ❌ 否           |
| **参数量** | 模型权重数量 | 存储与内存开销 | K / M     | ❌ 否           |
| **FPS**    | 每秒推理帧数 | 实际运行速度   | 帧/秒     | ✅ 是           |

---

**简记：**
> FLOPs → 算得快不快
> Params → 存得下不下
> FPS → 跑得流不流畅
